jQuery(document).ready(function(a){window.console||(window.console={log:function(){}}),a("#wc-bookings-booking-form").show(),a("#wc-bookings-booking-form").each(function(){var b=a(this).closest("form").find(".single_add_to_cart_button");b.attr("disabled","disabled")});var b;a("#wc-bookings-booking-form").on("change","input, select",function(){b&&b.abort(),$form=a(this).closest("form");var c=$form.find("input.required_for_calculation"),d=!0;a.each(c,function(b,c){var e=a(c).val();e||(d=!1)}),d&&($form.find(".wc-bookings-booking-cost").block({message:null,overlayCSS:{background:"#fff url("+booking_form_params.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}}).show(),b=a.ajax({type:"POST",url:booking_form_params.ajax_url,data:{action:"wc_bookings_calculate_costs",form:$form.serialize()},success:function(b){"{"!==b.charAt(0)&&(console.log(b),b="{"+b.split(/\{(.+)?/)[1]),result=a.parseJSON(b),"ERROR"==result.result?($form.find(".wc-bookings-booking-cost").html(result.html),$form.find(".wc-bookings-booking-cost").unblock(),$form.find(".single_add_to_cart_button").attr("disabled","disabled")):"SUCCESS"==result.result?($form.find(".wc-bookings-booking-cost").html(result.html),$form.find(".wc-bookings-booking-cost").unblock(),$form.find(".single_add_to_cart_button").removeAttr("disabled")):($form.find(".wc-bookings-booking-cost").hide(),$form.find(".single_add_to_cart_button").attr("disabled","disabled"),console.log(b))},error:function(){$form.find(".wc-bookings-booking-cost").hide(),$form.find(".single_add_to_cart_button").attr("disabled","disabled")},dataType:"html"}))})});
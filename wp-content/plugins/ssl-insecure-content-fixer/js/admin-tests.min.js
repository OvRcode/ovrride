// SSL Insecure Content Fixer
// https://ssl.webaware.net.au/

"use strict";!function(s){function e(e){s(e).attr("aria-hidden","false").show()}function t(e){s(e).attr("aria-hidden","true").hide()}s.ajax({url:sslfix.ajax_url_ssl,data:{action:"sslfix-environment",sslfix_nonce:sslfix.test_nonce},dataType:"json",method:"GET",error:function(i,a){t("#sslfix-loading"),e("#sslfix-test-result-head"),e("#sslfix-environment"),s("#sslfix-environment pre").text(a+"\n"+i.responseText)},success:function(i){if(i.ssl)switch(i.detect){case"HTTPS":case"port":e("#sslfix-normal");break;case"HTTP_X_FORWARDED_PROTO":e("#sslfix-HTTP_X_FORWARDED_PROTO");break;case"HTTP_X_FORWARDED_SSL":e("#sslfix-HTTP_X_FORWARDED_SSL");break;case"HTTP_CLOUDFRONT_FORWARDED_PROTO":e("#sslfix-HTTP_CLOUDFRONT_FORWARDED_PROTO");break;case"HTTP_X_ARR_SSL":e("#sslfix-HTTP_X_ARR_SSL");break;case"HTTP_X_FORWARDED_SCHEME":e("#sslfix-HTTP_X_FORWARDED_SCHEME");break;case"HTTP_CF_VISITOR":e("#sslfix-HTTP_CF_VISITOR")}else e("#sslfix-detect_fail");t("#sslfix-loading"),e("#sslfix-test-result-head"),e("#sslfix-environment"),s("#sslfix-environment pre").text(i.env)}}),s.ajax({url:sslfix.ajax_url_wp,data:{action:"sslfix-test-https"},dataType:"json",method:"GET",xhrFields:{withCredentials:!0},success:function(e){e.https&&s("#sslfix-https-detection").addClass("dashicons dashicons-"+e.https)}})}(jQuery);
# Protect system files from peeping eyes
<FilesMatch "php.ini|error_log|README.md|readme.html">
  Order allow,deny
  Deny from all
</FilesMatch>

# RewriteEngine on - must be declared at least once before any Rewrites rules

# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress

# Rewrite WordPress /login to /wp-login.php
RewriteRule ^login$ https://ovrride.com/wp-login.php [NC,L]

# Prevent indexing of directories without an index file
Options -Indexes

# Protect the .git directory from peeping eyes
RedirectMatch 404 /\.git

# Rewrite ovrride.net to ovrride.com
RewriteCond %{HTTP_HOST} ^ovrride\.net$ [OR]
RewriteCond %{HTTP_HOST} ^www\.ovrride\.net$
RewriteRule ^(.*)$ "http\:\/\/ovrride\.com\/$1" [R=301,L]

# Redirect calendar.ovrride.com to ovrride.com/events
RewriteCond %{HTTP_HOST} ^calendar\.ovrride\.com
RewriteRule ^(.*) http://ovrride.com/events/ [L,R=301]
